{
  "migration_plan": {
    "phase1_immediate": [
      {
        "name": "parquet_data",
        "current_location": "spy_options_downloader/spy_options_parquet",
        "current_format": "parquet",
        "file_count": 1259,
        "priority": "medium"
      }
    ],
    "phase2_unification": [
      {
        "name": "cli_results",
        "current_location": "spy_backtester/results",
        "current_format": "csv",
        "file_count": 238,
        "priority": "high"
      },
      {
        "name": "streamlit_results",
        "current_location": "streamlit-backtester/backtest_results",
        "current_format": "json",
        "file_count": 5,
        "priority": "high"
      }
    ],
    "phase3_cleanup": []
  },
  "source_mapping": {
    "cli_results": {
      "source_path": "spy_backtester/results",
      "target_path": "results/unified/cli_results",
      "transformation_required": true,
      "schema": [
        "trade_id",
        "date",
        "strike",
        "expiration",
        "option_type",
        "order_type",
        "quantity",
        "price",
        "commission",
        "total_cost",
        "underlying_price",
        "delta",
        "dte",
        "implied_vol",
        "exit_reason",
        "Selection_Target_Delta",
        "Selection_Actual_Delta",
        "Selection_Delta_Difference",
        "Selection_Tolerance",
        "Selection_Is_Compliant",
        "Selection_Accuracy_Percentage",
        "Selection_Available_Options",
        "Selection_Method",
        "Selection_Compliance_Status",
        "Selection_Target_DTE_Min",
        "Selection_Target_DTE_Max",
        "Selection_Actual_DTE",
        "Selection_Is_DTE_Compliant",
        "Selection_DTE_Accuracy_Percentage",
        "Selection_DTE_Target_Range",
        "Selection_DTE_Compliance_Status",
        "Exit_Reason",
        "Exit_Actual_PnL_Percent",
        "Exit_Days_Held",
        "Exit_Method_Accuracy",
        "Exit_Target_Stop_Loss",
        "Exit_Target_Profit_Target",
        "Exit_Stop_Loss_Accuracy",
        "Exit_Profit_Target_Accuracy",
        "Exit_DTE_Change",
        "Exit_Theta_Decay_Effect",
        "Exit_Entry_DTE",
        "Exit_Exit_DTE",
        "Exit_DTE_Timing",
        "Exit_DTE_Accuracy",
        "Exit_Target_DTE_Min",
        "Exit_Target_DTE_Max",
        "Exit_DTE_Target_Range",
        "Exit_Is_DTE_Optimal",
        "Exit_Theta_Captured",
        "Exit_Theta_Efficiency"
      ]
    },
    "streamlit_results": {
      "source_path": "streamlit-backtester/backtest_results",
      "target_path": "results/unified/streamlit_results",
      "transformation_required": false,
      "schema": [
        "timestamp",
        "results"
      ]
    },
    "parquet_data": {
      "source_path": "spy_options_downloader/spy_options_parquet",
      "target_path": "results/unified/parquet_data",
      "transformation_required": true,
      "schema": [
        "root",
        "expiration",
        "strike",
        "right",
        "ms_of_day",
        "ms_of_day2",
        "open",
        "high",
        "low",
        "close",
        "volume",
        "count",
        "bid_size",
        "bid_exchange",
        "bid",
        "bid_condition",
        "ask_size",
        "ask_exchange",
        "ask",
        "ask_condition",
        "date",
        "root_greeks",
        "ms_of_day_greeks",
        "open_greeks",
        "high_greeks",
        "low_greeks",
        "close_greeks",
        "volume_greeks",
        "count_greeks",
        "bid_size_greeks",
        "bid_exchange_greeks",
        "bid_greeks",
        "bid_condition_greeks",
        "ask_size_greeks",
        "ask_exchange_greeks",
        "ask_greeks",
        "ask_condition_greeks",
        "delta",
        "theta",
        "vega",
        "rho",
        "epsilon",
        "lambda",
        "gamma",
        "vanna",
        "charm",
        "vomma",
        "veta",
        "vera",
        "speed",
        "zomma",
        "color",
        "ultima",
        "d1",
        "d2",
        "implied_vol",
        "iv_error",
        "ms_of_day2_greeks",
        "underlying_price"
      ]
    }
  },
  "schema_transformations": {},
  "data_flows": []
}